/* ===== 페이지 스크롤 끄기 ===== */
html,
body {
  height: 100%;
  margin: 0;
  overflow: hidden;
}

/* ===== CH1 Intro 레이아웃 ===== */
.chapter1-intro {
  position: relative;
  display: grid;
  gap: clamp(12px, 2vw, 18px);
  place-items: start center;
  height: 100dvh;
  min-height: 100dvh;

  /* 글로우 색상 */
  --glow-base: 255 255 255; /* 기본(비호버) */
  --glow-hover: 219 254 102; /* 호버 색상 */
  --push-down: 7vh;

  padding: clamp(24px, 4vw, 40px) clamp(16px, 3vw, 32px);
  padding-top: calc(clamp(24px, 4vw, 40px) + var(--push-down));
  text-align: center;
}

.chapter1-intro > *:not(.bg-png) {
  position: relative;
  z-index: 1;
}

/* ===== 화면 꽉 채우는 배경 ===== */
.bg-png {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background-image: var(--bg-url);
  background-repeat: no-repeat;
  background-position: var(--bg-pos, 50% 50%);
  background-size: var(--bg-size, cover);
  opacity: var(--bg-opacity, 1);
  filter: blur(var(--bg-blur, 0));
  transform: translateZ(0);
}

.bg-png::after {
  position: absolute;
  inset: 0;
  content: '';
  background: radial-gradient(
      1200px 700px at 50% 10%,
      rgb(0 0 0 / calc(var(--bg-darken, 0.12) * 0.4)) 0%,
      rgb(0 0 0 / 0%) 55%
    ),
    linear-gradient(#000, #000);
  opacity: var(--bg-darken, 0.12);
}

.bg-png.no-vignette::after {
  display: none;
}
@supports not (height: 100dvh) {
  .bg-png {
    height: 100vh;
  }
}

/* ===== 되돌아가기 버튼 ===== */
.back-btn {
  position: fixed;
  top: 18px;
  left: 18px;
  z-index: 20;
  width: 56px;
  height: 56px;
  padding: 0;
  cursor: pointer;
  background: transparent;
  border: 0;
}

.back-btn img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 6px 18px rgb(0 0 0 / 35%));
}

.back-btn:focus-visible {
  outline: 2px solid #00d4ff;
  outline-offset: 3px;
}

/* ===== 제목/설명 ===== */
.title {
  margin: clamp(6px, 2vw, 12px) 0 0;
  font-size: clamp(42px, 9vw, 120px);
  font-weight: 900;
  color: #fff;
  letter-spacing: 0.06em;
  filter: drop-shadow(0 0 16px rgb(255 255 255 / 15%))
    drop-shadow(0 0 36px rgb(255 255 255 / 8%));
}

.description {
  max-width: min(1100px, 92vw);
  margin: 6px auto 10px;
  font-size: clamp(14px, 1.05vw, 18px);
  line-height: 1.65;
  color: #e9e9e9;
}

/* ===== 썸네일 그리드 ===== */
.scene-grid {
  --card-min: 420px;

  display: grid;
  grid-template-columns: repeat(3, minmax(var(--card-min), 1fr));
  gap: clamp(16px, 2.4vw, 36px);
  width: min(1300px, 94vw);
  margin: clamp(12px, 2.4vw, 24px) auto 12px;
}

/* ===== 썸네일 카드 ===== */
.scene-card {
  position: relative;
  display: block;
  aspect-ratio: 16 / 9;
  overflow: visible; /* box-shadow가 잘 보이게 */
  border: 0;
  border-radius: 0;

  /* 기본: 화이트 글로우 + 깊이감 */
  box-shadow: 0 22px 56px rgb(0 0 0 / 60%),
    0 0 20px rgba(var(--glow-base) / 100%),
    0 0 28px rgba(var(--glow-base) / 90%);
  transform: translateY(-4px) scale(1.01);
}

/* 어둡게 만드는 오버레이 (hover에서만 보임) */
.scene-card::before {
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  content: '';
  background: rgb(0 0 0 / 0%);
  transition: background 0.22s ease;
}

.scene-card:hover::before {
  background: rgb(0 0 0 / 45%);
}

/* 이미지는 카드 꽉 채우기 */
.scene-card > img,
.scene-card picture > img,
.scene-card figure > img {
  position: absolute;
  inset: 0;
  z-index: 0;
  width: 100% !important;
  max-width: none !important;
  height: 100% !important;
  max-height: none !important;
  object-fit: cover;
  border: 0 !important;
  border-radius: 0 !important;
  filter: saturate(0.08) contrast(1.04) brightness(0.95);
  transition: transform 0.25s ease, filter 0.25s ease;
}

.scene-card:hover > img,
.scene-card:hover picture > img,
.scene-card:hover figure > img {
  filter: saturate(0.14) contrast(1.08) brightness(0.99);
  transform: scale(1.03);
}

/* 가운데 ‘살펴보기’ CTA */
.scene-card .hover-cta {
  position: absolute;
  top: 50%;
  left: 50%;
  z-index: 2; /* ::before(1), img(0) 위 */
  display: inline-flex;
  gap: 10px;
  align-items: center;
  padding: 10px 16px;
  font-size: clamp(16px, 1.2vw, 20px);
  font-weight: 800;
  color: #fff;
  text-shadow: 0 1px 0 rgb(0 0 0 / 55%);
  pointer-events: none; /* 클릭은 아래 링크가 받도록 */
  background: rgb(0 0 0 / 35%);
  border-radius: 999px;
  opacity: 0;
  backdrop-filter: blur(2px);
  transform: translate(-50%, -50%) scale(0.98);
  transition: opacity 0.22s ease, transform 0.22s ease;
}

/* 돋보기 아이콘 (mask SVG) */
.scene-card .hover-cta::before {
  flex: 0 0 26px;
  width: 26px;
  height: 26px;
  content: '';
  background: #fff;

  /* 표준/웹킷 마스크 */
  mask: url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\
<path fill="%23fff" d="M15.5 14h-.79l-.28-.27A6.5 6.5 0 1 0 14 15.5l.27.28h.79l5 5 1.5-1.5-5-5zm-6 0A4.5 4.5 0 1 1 14 9.5 4.5 4.5 0 0 1 9.5 14z"/>\
</svg>')
    center / contain no-repeat;
}

/* hover 시 CTA 나타남 + 글로우 컬러 변경 */
.scene-card:hover {
  box-shadow: 0 22px 56px rgb(0 0 0 / 60%),
    0 0 20px rgba(var(--glow-hover) / 100%),
    0 0 28px rgba(var(--glow-hover) / 90%);
}

.scene-card:hover .hover-cta {
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
}

/* ===== 반응형 ===== */
@media (width <= 1100px) {
  .scene-grid {
    grid-template-columns: repeat(2, minmax(var(--card-min, 360px), 1fr));
  }
}
@media (width <= 700px) {
  .scene-grid {
    grid-template-columns: 1fr;
    gap: 14px;

    --card-min: 100%;
  }

  .back-btn {
    top: 12px;
    left: 12px;
    width: 48px;
    height: 48px;
  }
}

/* ===== 모션 최소화 ===== */
@media (prefers-reduced-motion: reduce) {
  .scene-card,
  .scene-card > img,
  .scene-card picture > img,
  .scene-card figure > img,
  .scene-card .hover-cta {
    transition: none;
  }
}
